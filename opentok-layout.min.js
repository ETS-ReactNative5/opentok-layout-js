/*! For license information please see opentok-layout.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.initLayoutContainer=i():t.initLayoutContainer=i()}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={756:t=>{var i=function(t,i,e,o,a,n,r){for(var d=void 0,h=void 0,f=void 0,s=void 0,g=void 0,l=void 0,c=void 0,v=void 0,u=1;u<=a;u+=1){var m=u,p=Math.ceil(a/m);(v=(c=Math.floor(o/p))/(l=Math.floor(e/m)))>i?c=l*(v=i):v<t&&(l=c/(v=t));var x=(l=Math.min(n,l))*(c=Math.min(r,c))*a;(void 0===d||x>=d)&&(d=x,s=c,g=l,h=m,f=p)}return{maxArea:d,targetCols:h,targetRows:f,targetHeight:s,targetWidth:g,ratio:s/g}},e=function(t,e){var o=t.maxRatio,a=t.minRatio,n=t.fixedRatio,r=t.containerWidth,d=t.containerHeight,h=t.offsetLeft,f=void 0===h?0:h,s=t.offsetTop,g=void 0===s?0:s,l=t.alignItems,c=void 0===l?"center":l,v=t.maxWidth,u=void 0===v?1/0:v,m=t.maxHeight,p=void 0===m?1/0:m,x=t.scaleLastRow,w=void 0===x||x,y=e.map((function(t){return t.height/t.width})),b=y.length,R=void 0;if(n){var H=y.length>0?y[0]:null;R=i(H,H,r,d,b,u,p)}else R=i(a,o,r,d,b,u,p);for(var W=0,L=0,M=[],T=void 0,I=[],S=0;S<y.length;S+=1){S%R.targetCols==0&&(T={ratios:[],width:0,height:0},M.push(T));var A=y[S];T.ratios.push(A);var C=R.targetWidth,O=R.targetHeight;n&&(C=O/A),T.width+=C,T.height=O}for(var j=0,k=0,E=0;E<M.length;E+=1)(T=M[E]).width>r?(T.height=Math.floor(T.height*(r/T.width)),T.width=r):T.width<r&&T.height<p&&(k+=1),j+=T.height;if(w&&j<d&&k>0){var q=d-j;j=0;for(var B=0;B<M.length;B+=1){if((T=M[B]).width<r){var N=q/k;N/T.height>(r-T.width)/T.width&&(N=Math.floor((r-T.width)/T.width*T.height)),T.width+=Math.floor(N/T.height*T.width),T.height+=N,q-=N,k-=1}j+=T.height}}switch(c){case"start":L=0;break;case"end":L=d-j;break;case"center":default:L=(d-j)/2}for(var _=0;_<M.length;_+=1){T=M[_];var F=void 0;switch(c){case"start":F=0;break;case"end":F=r-T.width;break;case"center":default:F=(r-T.width)/2}W=F;for(var $=void 0,P=0;P<T.ratios.length;P+=1){var V=T.ratios[P],z=R.targetWidth;$=T.height,n?z=Math.floor($/V):$/z!=R.targetHeight/R.targetWidth&&(z=Math.floor(R.targetWidth/R.targetHeight*$)),I.push({left:W+f,top:L+g,width:z,height:$}),W+=z}L+=$}return I};t.exports=function(t,i){var o,a=t.maxRatio,n=void 0===a?1.5:a,r=t.minRatio,d=void 0===r?9/16:r,h=t.fixedRatio,f=void 0!==h&&h,s=t.bigPercentage,g=void 0===s?.8:s,l=t.bigFixedRatio,c=void 0!==l&&l,v=t.bigMaxRatio,u=void 0===v?1.5:v,m=t.bigMinRatio,p=void 0===m?9/16:m,x=t.bigFirst,w=void 0===x||x,y=t.containerWidth,b=void 0===y?640:y,R=t.containerHeight,H=void 0===R?480:R,W=t.alignItems,L=void 0===W?"center":W,M=t.bigAlignItems,T=void 0===M?"center":M,I=t.smallAlignItems,S=void 0===I?"center":I,A=t.maxWidth,C=void 0===A?1/0:A,O=t.maxHeight,j=void 0===O?1/0:O,k=t.smallMaxWidth,E=void 0===k?1/0:k,q=t.smallMaxHeight,B=void 0===q?1/0:q,N=t.bigMaxWidth,_=void 0===N?1/0:N,F=t.bigMaxHeight,$=void 0===F?1/0:F,P=t.scaleLastRow,V=void 0===P||P,z=t.bigScaleLastRow,D=void 0===z||z,G=H/b,J=0,K=0,Q=0,U=0,X=[],Y=i.filter((function(t,i){return!!t.big&&(X.push(i),!0)})),Z=i.filter((function(t){return!t.big})),tt=[],it=[];if(Y.length>0&&Z.length>0){var et=void 0,ot=void 0,at=!0===w;G>(o=Y[0]).height/o.width?(et=b,Q=H-(K=ot=Math.floor(H*g)),"column"===w?at=!1:"row"===w&&(at=!0)):(ot=H,U=b-(J=et=Math.floor(b*g)),"column"===w?at=!0:"row"===w&&(at=!1)),at?(tt=e({containerWidth:et,containerHeight:ot,offsetLeft:0,offsetTop:0,fixedRatio:c,minRatio:p,maxRatio:u,alignItems:T,maxWidth:_,maxHeight:$,scaleLastRow:D},Y),it=e({containerWidth:b-J,containerHeight:H-K,offsetLeft:J,offsetTop:K,fixedRatio:f,minRatio:d,maxRatio:n,alignItems:S,maxWidth:E,maxHeight:B,scaleLastRow:V},Z)):(it=e({containerWidth:b-J,containerHeight:H-K,offsetLeft:0,offsetTop:0,fixedRatio:f,minRatio:d,maxRatio:n,alignItems:S,maxWidth:E,maxHeight:B,scaleLastRow:V},Z),tt=e({containerWidth:et,containerHeight:ot,offsetLeft:U,offsetTop:Q,fixedRatio:c,minRatio:p,alignItems:T,maxWidth:_,maxHeight:$,scaleLastRow:D},Y))}else Y.length>0&&0===Z.length?tt=e({containerWidth:b,containerHeight:H,fixedRatio:c,minRatio:p,maxRatio:u,alignItems:T,maxWidth:_,maxHeight:$,scaleLastRow:D},Y):it=e({containerWidth:b-J,containerHeight:H-K,offsetLeft:J,offsetTop:K,fixedRatio:f,minRatio:d,maxRatio:n,alignItems:L,maxWidth:C,maxHeight:j,scaleLastRow:V},Z);var nt=[],rt=0,dt=0;return i.forEach((function(t,i){X.indexOf(i)>-1?(nt[i]=tt[rt],rt+=1):(nt[i]=it[dt],dt+=1)})),nt}},352:(t,i,e)=>{var o=e(756),a=e(206);t.exports=function(t,i){var e=i&&i.window||("undefined"==typeof window?void 0:window);return t="string"==typeof t?e.document.querySelector(t):t,void 0===(e&&e.HTMLElement)||t instanceof e.HTMLElement||i?i||(i={}):i=t,{layout:a.bind(this,t,i),getLayout:o.bind(this,i)}}},206:(t,i,e)=>{var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=e(756);t.exports=function(t,i){function e(t,a,n){if(n)return t.style[a]=n,NaN;if("object"===(void 0===a?"undefined":o(a)))return Object.keys(a).forEach((function(i){e(t,i,a[i])})),NaN;var r=(i&&i.window||window).getComputedStyle(t).getPropertyValue(a);return""===r&&(r=t.style[a]),r}var n=function(t,i){var o=e(t,i);return o?parseInt(o,10):0},r=i.animate,d=void 0!==r&&r,h=i.bigClass,f=void 0===h?"OT_big":h,s=i.ignoreClass,g=void 0===s?"OT_ignore":s;if("none"!==e(t,"display")){var l,c,v=t.getAttribute("id");v||(v="OT_"+(1e8*Math.random()).toFixed(0),t.setAttribute("id",v)),i.containerHeight=((c=(l=t).offsetHeight>0?l.offsetHeight+"px":e(l,"height"))?parseInt(c,10):0)-n(t,"borderTop")-n(t,"borderBottom"),i.containerWidth=function(t){var i,o=(i=t).offsetWidth>0?i.offsetWidth+"px":e(i,"width");return o?parseInt(o,10):0}(t)-n(t,"borderLeft")-n(t,"borderRight");var u=Array.prototype.filter.call(t.querySelectorAll("#"+v+">*:not(."+g+")"),(function(t){return"none"!==e(t,"display")})),m=u.map((function(t){var i=function(t){if(t){if(t.videoHeight&&t.videoWidth)return{height:t.videoHeight,width:t.videoWidth};var i=t.querySelector("video");if(i&&i.videoHeight&&i.videoWidth)return{height:i.videoHeight,width:i.videoWidth}}return{height:480,width:640}}(t);return i.big=t.classList.contains(f),i}));a(i,m).forEach((function(t,o){var a=u[o];e(a,"position","absolute");var r=t.width-n(a,"paddingLeft")-n(a,"paddingRight")-n(a,"marginLeft")-n(a,"marginRight")-n(a,"borderLeft")-n(a,"borderRight"),h=t.height-n(a,"paddingTop")-n(a,"paddingBottom")-n(a,"marginTop")-n(a,"marginBottom")-n(a,"borderTop")-n(a,"borderBottom");!function(t,i,o,a,n,r,d){var h=this,f={left:i+"px",top:o+"px",width:a+"px",height:n+"px"},s=function(){var i=t.querySelector(".OT_root");if(i){var e=i.style.width;i.style.width=a+"px",i.style.width=e||""}};r&&"undefined"!=typeof $?($(t).stop(),$(t).animate(f,r.duration||200,r.easing||"swing",(function(){s(),r.complete&&r.complete.call(h),d&&d(t,{left:i,top:o,width:a,height:n})}))):(e(t,f),t.classList.contains("ot-layout")||t.classList.add("ot-layout"),d&&d(t,{left:i,top:o,width:a,height:n})),s()}(a,t.left,t.top,r,h,d,i.onLayout)}))}}}},i={};return function e(o){var a=i[o];if(void 0!==a)return a.exports;var n=i[o]={exports:{}};return t[o](n,n.exports,e),n.exports}(352)})()}));
//# sourceMappingURL=opentok-layout.min.js.map